---
import ModuleRenderer from "../../components/ModuleRenderer.astro";
import PageHeader from "../../components/PageHeader.astro";
import { works } from "../../data";
import DefaultLayout from "../../layouts/DefaultLayout.astro";

const { slug } = Astro.params;

const work = works.find((w) => w.slug === slug);

if (!work) return Astro.redirect("/404");

const { name, modules } = work;
---

<DefaultLayout title={`Thomas Lamars | ${name}`}>
  <PageHeader title={name} marginSize="sub-page" />

  {modules.map((module) => <ModuleRenderer module={module} />)}
</DefaultLayout>
