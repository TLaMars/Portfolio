---
import DefaultLayout from "../../layouts/DefaultLayout.astro";
import PageHeader from "../../components/PageHeader.astro";
import WorkCard from "../../components/WorkCard.astro";
import { works } from "../../data";
---

<DefaultLayout title="Thomas Lamars | Work">
  <PageHeader title="My Work" subtitle="All the projects I've worked on" />

  <div class="work-section">
    {
      works.map(
        ({ name, shortDescription, image, slug, imagePosition, variant }) => (
          <WorkCard
            title={name}
            subtitle={shortDescription}
            imagePosition={imagePosition}
            image={image}
            variant={variant}
            slug={`/work/${slug}`}
          />
        )
      )
    }
  </div>
</DefaultLayout>

<style lang="scss">
  @use "../../styles/utils" as *;
  .work-section {
    position: relative;
    max-width: var(--content-page-width-extra-large);
    width: 100%;
    margin-bottom: var(--content-page-gap);
    gap: 5.2rem;
    display: grid;
    grid-template-columns: repeat(3, 1fr);

    @include desktop-only {
      :global(*:nth-child(4n + 1)),
      :global(*:nth-child(4n + 4)) {
        grid-column: auto / span 2;
      }
    }

    @include tablet-and-smaller {
      grid-template-columns: repeat(1, 1fr);
    }

    @include phone-only {
      gap: 3.6rem;
    }
  }
</style>
